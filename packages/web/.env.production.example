# Production Environment Configuration - Supabase架构
# Copy this file to .env.production and fill in actual values

# Application
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://saga-web-livid.vercel.app

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://encdblxyxztvfxotfuyh.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuY2RibHh5eHp0dmZ4b3RmdXloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4Njg1MDksImV4cCI6MjA2OTQ0NDUwOX0.9QdNqwICg1FNQIvWKlSq1zzU2PWp5cwpwK_5DMA2a88
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuY2RibHh5eHp0dmZ4b3RmdXloIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Mzg2ODUwOSwiZXhwIjoyMDY5NDQ0NTA5fQ.g5oB17nJ9vwAlbB9YbU6Gq9Q2z4G9dDW7nSdUEXxrNs

# Stripe Payment Integration
# IMPORTANT: Replace with actual Stripe keys in production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_actual_stripe_publishable_key
STRIPE_SECRET_KEY=sk_live_your_actual_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_actual_webhook_secret

# Email Service (for notifications and exports)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=noreply@saga.example.com
SMTP_PASS=your-smtp-password
FROM_EMAIL=noreply@saga.example.com
FROM_NAME=Saga Family Stories

# File Storage (Supabase Storage)
# Files are stored in Supabase Storage, no additional configuration needed

# Monitoring and Logging
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Security
CORS_ORIGIN=https://saga.example.com
HELMET_CSP_DIRECTIVES=default-src 'self'; script-src 'self' 'unsafe-inline' js.stripe.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' api.stripe.com;

# AI Services (for story prompts and transcription)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
WHISPER_API_KEY=your-whisper-api-key

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_ERROR_REPORTING=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_BETA_FEATURES=false

# Backup and Maintenance
BACKUP_SCHEDULE=0 2 * * *
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We're performing scheduled maintenance. Please check back soon.

# CDN and Assets
CDN_URL=https://cdn.saga.example.com
STATIC_ASSETS_URL=https://assets.saga.example.com

# SSL and Security Headers
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Session Configuration
SESSION_SECRET=your-session-secret-key
SESSION_SECURE=true
SESSION_SAME_SITE=strict
SESSION_MAX_AGE=86400000

# API Configuration
API_TIMEOUT=30000
MAX_REQUEST_SIZE=50mb
MAX_FILE_UPLOAD_SIZE=100mb

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=10000

# Health Check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=5000

# Deployment
DEPLOYMENT_ENVIRONMENT=production
BUILD_ID=auto-generated-build-id
COMMIT_SHA=auto-generated-commit-sha
